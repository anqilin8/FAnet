The quality grade of Fructus Aurantii(FA) affects the clinical efficacy, and the establishment of a grading system is an inevitable requirement to ensure the safety of medication. However, the morphological characteristics of FA exhibit individual differences, and traditional grading methods rely on manual empirical judgment, which is subjective and inefficient, leading to low standardization. This paper proposes a lightweight instance segmentation framework named FAnet. It is based on the improvement of YOLOv8n-seg. The framework aims to accurately detect peel thickness and outer diameter during the quality grading of FA. FAnet integrates three novel modules to optimize feature extraction efficiency and computational performance. First, C2Star, a fusion module of StarNet and C2f, enhances multi-scale features. Second, the Simple Parameter-Free Attention Module(SimAM) employs parameterless airspace-channel synergy to reduce computational overheads. Finally, the multi-scale dynamic fitting module establishes a nonlinear mapping between area and size to achieve accurate grading. On a self-built dataset containing 5,035 labeled images, FAnet comprehensively outperforms the benchmark model with 96.12% precision, 98.77% recall, and 77.08% mAP@95 while maintaining efficient computation (7.9 GFLOPs). This paper offers a low-cost solution for the automated quality control of Chinese herbal medicines. It significantly enhances the modeling ability of key morphological features, such as outer diameter and contour. Meanwhile, it keeps the system lightweight. Moreover, it provides a feasible technical approach for grading based on peel thickness.
<img width="2164" height="1001" alt="0f944c2d-480b-4bb1-b7d1-33bad57189d9" src="https://github.com/user-attachments/assets/da40f154-a6d4-470d-aa7c-56c615e4001b" />

The dataset will be made publicly available here shortly. We are currently organizing and reviewing the portions that can be released.Download link for the small dataset:https://drive.google.com/drive/folders/1mu0f3fLSzF--vi9GMe0sW5HMAqrAb1f2?usp=drive_link
	
  <img width="1051" height="111" alt="image" src="https://github.com/user-attachments/assets/8c59b1da-3fb4-458f-8149-a29e66e6cc8f" />
<img width="1051" height="111" alt="f1c28385-cd29-432b-a2f9-7c3d82e3eb56" src="https://github.com/user-attachments/assets/0546e031-2866-4724-9104-5d9b861d3fbe" />
<img width="1075" height="370" alt="b0cd1e6a-24e1-4278-899f-f558fb169865" src="https://github.com/user-attachments/assets/03c540bd-fe4f-46c7-aac8-c4e9e97fbb7c" />


<img width="1070" height="969" alt="5a3c1a95-7a13-4870-807e-8905af1d9105" src="https://github.com/user-attachments/assets/0749b010-e328-4219-a25e-c07a1c7544e2" />
